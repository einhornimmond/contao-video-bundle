!function(e){function t(t){for(var i,o,c=t[0],l=t[1],u=t[2],d=0,f=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(s&&s(t);f.length;)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,c=1;c<n.length;c++){var l=n[c];0!==r[l]&&(i=!1)}i&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},r={"contao-video-bundle":0},a=[];function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/bundles/heimrichhannotvideo/assets/";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=l;a.push(["8avE","alertify"]),n()}({"8avE":function(e,t,n){"use strict";n.r(t);var i=class{static getTextWithoutChildren(e,t){let n=e.clone();return n.children().remove(),void 0!==t&&!0===t?n.text():n.text().trim()}static scrollTo(e,t=0,n=0,i=!1){let r=e.getBoundingClientRect().top+window.pageYOffset-t;setTimeout(()=>{this.elementInViewport(e)&&!0!==i||("scrollBehavior"in document.documentElement.style?window.scrollTo({top:r,behavior:"smooth"}):window.scrollTo(0,r))},n)}static elementInViewport(e){let t=e.offsetTop,n=e.offsetLeft,i=e.offsetWidth,r=e.offsetHeight;for(;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,n+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&t+r>window.pageYOffset&&n+i>window.pageXOffset}static getAllParentNodes(e){for(var t=[];e;)t.unshift(e),e=e.parentNode;for(var n=0;n<t.length;n++)t[n]===document&&t.splice(n,1);return t}};var r=class{static isTruthy(e){return null!=e}static call(e){"function"==typeof e&&e.apply(this,Array.prototype.slice.call(arguments,1))}};var a=class{static addDynamicEventListener(e,t,n,a,o){void 0===a&&(a=document),a.addEventListener(e,(function(e){let a;r.isTruthy(o)?a=[e.target]:e.target!==document&&(a=i.getAllParentNodes(e.target)),Array.isArray(a)?a.reverse().forEach((function(i){i&&i.matches(t)&&n(i,e)})):document.querySelectorAll(t).forEach((function(t){n(t,e)}))}))}static createEventObject(e,t=!1,n=!1,i=!1){if("function"==typeof Event)return new Event(e,{bubbles:t,cancelable:n,composed:i});{let i=document.createEvent("Event");return i.initEvent(e,t,n),i}}},o=n("XAfc"),c=n.n(o);function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"onReady",value:function(){document.querySelectorAll(".huh_video > .video-wrapper > .video-thumbnail").forEach((function(t){t.getAttribute("data-autoplay")&&e.initVideo(t)})),a.addDynamicEventListener("click",".huh_video > .video-wrapper > .video-thumbnail",(function(t){e.initVideo(t)})),document.querySelectorAll(".huh_video.video-link").forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),e.initPrivacy(t.target)}))}))}},{key:"initPrivacy",value:function(e){if("privacy"in e.dataset){if(null!==localStorage.getItem("huh_video_privacy"))return!0;var t=c.a.confirm().set({labels:{ok:null!==e.getAttribute("data-btn-privacy-ok")?e.getAttribute("data-btn-privacy-ok"):"OK",cancel:null!==e.getAttribute("data-btn-privacy-cancel")?e.getAttribute("data-btn-privacy-cancel"):"Cancel"},onshow:function(){document.dispatchEvent(new CustomEvent("huh.video.alertify.onshow",{bubbles:!0,cancelable:!0,detail:{elements:t.elements}}))},defaultFocusOff:!0,onfocus:function(){document.dispatchEvent(new CustomEvent("huh.video.alertify.onfocus",{bubbles:!0,cancelable:!0,detail:{elements:t.elements}}))}});c.a.confirm("&nbsp;",e.getAttribute("data-privacy-html").replace(/\\"/g,'"'),(function(){t.elements.content.querySelector("[name=video-save-privacy]").checked&&localStorage.setItem("huh_video_privacy",!0),e.dispatchEvent(new CustomEvent("huh.video.privacy.accept",{bubbles:!0,cancelable:!0,detail:{elements:t.elements}}))}),(function(){e.dispatchEvent(new CustomEvent("huh.video.privacy.cancel",{bubbles:!0,cancelable:!0,detail:{elements:t.elements}}))}))}}},{key:"initVideo",value:function(e){var t=e.parentNode.querySelector(".video-container"),n=t.querySelector("iframe");if(a.addDynamicEventListener("click",'[data-dismiss="modal"]',(function(e){n.setAttribute("src",n.getAttribute("data-src"))})),document.addEventListener("hidden.bs.modal",(function(e){n.setAttribute("src",n.getAttribute("data-src"))})),e.getAttribute("data-privacy")){if(null!==localStorage.getItem("huh_video_privacy"))return n.setAttribute("src",n.getAttribute("data-src")),r(),!1;var i=c.a.confirm().set({labels:{ok:null!==e.getAttribute("data-btn-privacy-ok")?e.getAttribute("data-btn-privacy-ok"):"OK",cancel:null!==e.getAttribute("data-btn-privacy-cancel")?e.getAttribute("data-btn-privacy-cancel"):"Cancel"},onshow:function(){document.dispatchEvent(new CustomEvent("huh.video.event.alertify.onshow",{bubbles:!0,cancelable:!0,detail:{elements:i.elements}}))},defaultFocusOff:!0,onfocus:function(){document.dispatchEvent(new CustomEvent("huh.video.event.alertify.onfocus",{bubbles:!0,cancelable:!0,detail:{elements:i.elements}}))}});return c.a.confirm("&nbsp;",e.getAttribute("data-privacy-html").replace(/\\"/g,'"'),(function(){i.elements.content.querySelector("[name=video-save-privacy]").checked&&localStorage.setItem("huh_video_privacy",!0),n.setAttribute("src",n.getAttribute("data-src")),r()}),(function(){})),!1}function r(){e.classList.add("initialize"),t.classList.add("initialize"),e.classList.remove("initialize","video-hidden"),t.classList.remove("initialize","video-hidden")}n.setAttribute("src",n.getAttribute("data-src")),r()}}],(n=null)&&l(t.prototype,n),i&&l(t,i),e}();document.addEventListener("afterUnlockProtectedCode",(function(e){var t=document.querySelector('[data-identifier="'+e.detail.identifier+'"] .huh_video');null!==t&&e.detail.unlockByClick&&u.initVideo(t)})),document.addEventListener("DOMContentLoaded",u.onReady)}});