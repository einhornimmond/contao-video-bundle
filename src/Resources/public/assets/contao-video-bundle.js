!function(e){function t(t){for(var o,a,c=t[0],l=t[1],u=t[2],d=0,f=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&f.push(i[a][0]),i[a]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(s&&s(t);f.length;)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,c=1;c<n.length;c++){var l=n[c];0!==i[l]&&(o=!1)}o&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},i={"contao-video-bundle":0},r=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/bundles/heimrichhannotvideo/assets/";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=l;r.push(["8avE","alertify"]),n()}({"8avE":function(e,t,n){"use strict";n.r(t);function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"getTextWithoutChildren",value:function(e,t){var n=e.cloneNode(!0);return Array.prototype.forEach.call(n.children,(function(e){e.remove()})),void 0!==t&&!0===t?n.innerText:n.innerText.trim()}},{key:"scrollTo",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=e.getBoundingClientRect(),a=r.top+window.pageYOffset-n;setTimeout((function(){t.elementInViewport(e)&&!0!==i||("scrollBehavior"in document.documentElement.style?window.scrollTo({top:a,behavior:"smooth"}):window.scrollTo(0,a))}),o)}},{key:"elementInViewport",value:function(e){for(var t=e.offsetTop,n=e.offsetLeft,o=e.offsetWidth,i=e.offsetHeight;e.offsetParent;)t+=(e=e.offsetParent).offsetTop,n+=e.offsetLeft;return t<window.pageYOffset+window.innerHeight&&n<window.pageXOffset+window.innerWidth&&t+i>window.pageYOffset&&n+o>window.pageXOffset}},{key:"getAllParentNodes",value:function(e){for(var t=[];e;)t.unshift(e),e=e.parentNode;for(var n=0;n<t.length;n++)t[n]===document&&t.splice(n,1);return t}}],(n=null)&&o(t.prototype,n),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"isTruthy",value:function(e){return null!=e}},{key:"call",value:function(e){"function"==typeof e&&e.apply(this,Array.prototype.slice.call(arguments,1))}},{key:"runRecursiveFunction",value:function(t,n,o,i){n.length<1?e.isTruthy(o)&&Array.isArray(o)?e.call(o[i]):e.call(o):t(n[0],n.slice(1,n.length),o)}}],(n=null)&&r(t.prototype,n),o&&r(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function c(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"addDynamicEventListener",value:function(e,t,n,o,r){void 0===o&&(o=document),o.addEventListener(e,(function(e){var o;a.isTruthy(r)?o=[e.target]:e.target!==document&&(o=i.getAllParentNodes(e.target)),Array.isArray(o)?o.reverse().forEach((function(o){o&&o.matches(t)&&n(o,e)})):document.querySelectorAll(t).forEach((function(t){n(t,e)}))}))}},{key:"createEventObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"==typeof Event)return new Event(e,{bubbles:t,cancelable:n,composed:o});var i=document.createEvent("Event");return i.initEvent(e,t,n),i}}],(n=null)&&c(t.prototype,n),o&&c(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}(),u=n("XAfc"),s=n.n(u);function d(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"onReady",value:function(){console.log("clickasda"),document.querySelectorAll(".huh_video > .video-wrapper > .video-thumbnail").forEach((function(t){t.getAttribute("data-autoplay")&&e.initVideo(t)})),document.querySelectorAll(".huh_video > .video-wrapper > .video-container").forEach((function(t){console.log("click"),e.initVideo(t)})),l.addDynamicEventListener("click",".huh_video > .video-wrapper > .video-thumbnail",(function(t){e.initVideo(t),console.log("clic2k")})),document.querySelectorAll(".huh_video.video-link").forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),console.log("click3"),e.initPrivacy(t.target)}))})),e.initToggleVideo()}},{key:"initPrivacy",value:function(e){if("privacy"in e.dataset){if(null!==localStorage.getItem("huh_video_privacy"))return!0;var t=s.a.confirm().set({labels:{ok:null!==e.getAttribute("data-btn-privacy-ok")?e.getAttribute("data-btn-privacy-ok"):"OK",cancel:null!==e.getAttribute("data-btn-privacy-cancel")?e.getAttribute("data-btn-privacy-cancel"):"Cancel"},onshow:function(){document.dispatchEvent(new CustomEvent("huh.video.alertify.onshow",{bubbles:!0,cancelable:!0,detail:{elements:t.elements}}))},defaultFocusOff:!0,onfocus:function(){document.dispatchEvent(new CustomEvent("huh.video.alertify.onfocus",{bubbles:!0,cancelable:!0,detail:{elements:t.elements}}))}});console.log("pri"),s.a.confirm("&nbsp;",e.getAttribute("data-privacy-html").replace(/\\"/g,'"'),(function(){console.log("click"),t.elements.content.querySelector("[name=video-save-privacy]").checked&&localStorage.setItem("huh_video_privacy",!0),e.dispatchEvent(new CustomEvent("huh.video.privacy.accept",{bubbles:!0,cancelable:!0,detail:{elements:t.elements}}))}),(function(){console.log("click2"),e.dispatchEvent(new CustomEvent("huh.video.privacy.cancel",{bubbles:!0,cancelable:!0,detail:{elements:t.elements}}))}))}}},{key:"initVideo",value:function(t){var n=t.parentNode.querySelector(".video-container"),o=n.querySelectorAll("iframe"),i=n.querySelector("video");console.log("html",i),console.log("html",o),o?o.forEach((function(n){e.initIframeVideo(t,n),e.showVideo(t,n)})):i&&(e.initHtmlVideo(t,i),e.showVideo(t,i))}},{key:"showVideo",value:function(e,t){var n=e.querySelector(".video-container");n&&n.classList.remove("video-hidden"),e.classList.add("initialize"),t.classList.add("initialize"),e.classList.remove("initialize"),e.classList.remove("video-hidden"),t.classList.remove("initialize"),t.classList.remove("video-hidden"),document.dispatchEvent(new CustomEvent("videoInitialized",{detail:t,bubbles:!0,cancelable:!0}))}},{key:"initIframeVideo",value:function(t,n){if(l.addDynamicEventListener("click",'[data-dismiss="modal"]',(function(e){n.setAttribute("src",n.getAttribute("data-src"))})),document.addEventListener("hidden.bs.modal",(function(e){n.setAttribute("src",n.getAttribute("data-src"))})),console.log("initifr",t),n.setAttribute("src",n.getAttribute("data-src")),t.getAttribute("data-privacy")){if(console.log("cancel2"),null!==localStorage.getItem("huh_video_privacy"))return n.setAttribute("src",n.getAttribute("data-src")),e.showVideo(t,n),console.log("cancel prike"),!1;console.log("cancel3");var o=s.a.confirm().set({labels:{ok:null!==t.getAttribute("data-btn-privacy-ok")?t.getAttribute("data-btn-privacy-ok"):"OK",cancel:null!==t.getAttribute("data-btn-privacy-cancel")?t.getAttribute("data-btn-privacy-cancel"):"Cancel"},onshow:function(){document.dispatchEvent(new CustomEvent("huh.video.event.alertify.onshow",{bubbles:!0,cancelable:!0,detail:{elements:o.elements}}))},defaultFocusOff:!0,onfocus:function(){document.dispatchEvent(new CustomEvent("huh.video.event.alertify.onfocus",{bubbles:!0,cancelable:!0,detail:{elements:o.elements}}))}});return s.a.confirm("&nbsp;",t.getAttribute("data-privacy-html").replace(/\\"/g,'"'),(function(){o.elements.content.querySelector("[name=video-save-privacy]").checked&&localStorage.setItem("huh_video_privacy",!0),n.setAttribute("src",n.getAttribute("data-src")),e.showVideo(t,n)}),(function(){console.log("cancel")})),!1}}},{key:"initHtmlVideo",value:function(e,t){var n=e.closest(".video-wrapper").querySelector("button.play-button");n&&(n.addEventListener("click",(function(e){t.play(),t.hasAttribute("controls")||t.setAttribute("controls","controls")})),t.addEventListener("pause",(function(e){n.classList.remove("hidden")})),t.addEventListener("play",(function(e){n.classList.add("hidden")})))}},{key:"initToggleVideo",value:function(){var e=document.querySelectorAll(".ce_huh_video .huh_video"),t=[!0,!0];e&&e.forEach((function(e){var n=e.querySelectorAll(".huh_video .video-toggle-ctn button"),o=e.querySelector("#videoToggleLiveRegionOutput"),i=function(i){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t.slice(0);a[i]=!1,n.length>0&&(a.forEach((function(t,o){var i=e.querySelector("#"+n[o].getAttribute("aria-controls"));if(t){n[o].classList.add("btn-video-show"),i.style.display="none";var r=i.querySelector("iframe");null!==r&&r.setAttribute("src",r.src)}else n[o].classList.remove("btn-video-show"),i.style.display="block"})),r&&(o.textContent=i?"Audiodeskription steht im folgenden Video nicht mehr zur Verfügung":"Audiodeskription steht im folgenden Video zur Verfügung"))};n.length>0&&(n.forEach((function(e,t){e.addEventListener("click",(function(e){i(t,!0)}))})),i(1))}))}}],(n=null)&&d(t.prototype,n),o&&d(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();document.addEventListener("afterUnlockProtectedCode",(function(e){var t=document.querySelector('[data-identifier="'+e.detail.identifier+'"] .huh_video');if(null!==t&&(f.initVideo(t),f.initToggleVideo(),e.detail.unlockByClick)){var n=t.querySelector(".video-toggle-ctn button");n?n.focus():t.querySelector('[tabindex="0"]').focus()}})),document.addEventListener("DOMContentLoaded",f.onReady)}});